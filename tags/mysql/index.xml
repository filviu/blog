<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>mysql on Silviu's Blog</title><link>https://silviuvulcan.ro/blog/tags/mysql/</link><description>Recent content in mysql on Silviu's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 27 Nov 2012 12:05:07 +0000</lastBuildDate><atom:link href="https://silviuvulcan.ro/blog/tags/mysql/index.xml" rel="self" type="application/rss+xml"/><item><title>mysqldump: Got error 28 from storage engine</title><link>https://silviuvulcan.ro/blog/2012/11/27/mysqldump-got-error-28-from-storage-engine/</link><pubDate>Tue, 27 Nov 2012 12:05:07 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/11/27/mysqldump-got-error-28-from-storage-engine/</guid><description>This is a new one for me. I was dumping some databases on a server when I got this:
mysqldump: Error: &amp;#39;Got error 28 from storage engine&amp;#39; when trying to dump tablespaces mysqldump: Couldn&amp;#39;t execute &amp;#39;show fields from `xxxxxx`&amp;#39;: Got error 28 from storage engine (1030) Fortunately the fix was easy, just clean the /tmp folder as it was almost full on that particular server.</description></item><item><title>Drop all databases from mysql</title><link>https://silviuvulcan.ro/blog/2012/03/21/drop-all-databases-from-mysql/</link><pubDate>Wed, 21 Mar 2012 09:25:16 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/03/21/drop-all-databases-from-mysql/</guid><description>Sometimes I need to clean a mysql server so I can re-import it clean from the backups. A DROP ALL DATABASES; would have been nice, but the following does the trick. It will drop all databases except for mysql, test and information_schema
mysql -uroot -pPASS -e &amp;#34;show databases&amp;#34; | grep -v Database | grep -v mysql| grep -v information_schema| grep -v test | gawk &amp;#39;{print &amp;#34;drop database &amp;#34; $1 &amp;#34;;&amp;#34;}&amp;#39; | mysql -uroot -pPASS Warning: It does what it says on the tin.</description></item><item><title>Setting up master-slave replication for mysql</title><link>https://silviuvulcan.ro/blog/2012/01/30/setting-up-master-slave-replication-for-mysql/</link><pubDate>Mon, 30 Jan 2012 19:27:08 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/01/30/setting-up-master-slave-replication-for-mysql/</guid><description>So, I had to set-up master-slave replication. Here&amp;rsquo;s how you do it:
Why would one want to set-up this? Easy.
Spread the read load across multiple servers: you can use the MySQL master for writing (inserts, updates) and the slave(s) for reading (SELECT) This should speed up things nicely for your application.
Do the backups from the slave. You might have noticed that backing-up, especially big databases, slows things down. That happens because mysqldump locks tables as it reads them.</description></item><item><title>Enabling the MySQL slow query log</title><link>https://silviuvulcan.ro/blog/2012/01/12/enabling-the-mysql-slow-query-log/</link><pubDate>Thu, 12 Jan 2012 16:32:49 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/01/12/enabling-the-mysql-slow-query-log/</guid><description>If you have a slow web app or website it might be because of unoptimized sql queries. You want to track and fix those and the mysql slow query log is very helpful here.
Enabling the slow query log MySQL prior to 5.1.0 requires adding a setting to the MySQL my.cnf file and restart the mysql daemon in order to log slow queries; from MySQL 5.1.0 onwards you can also change this dynamically without having to restart.</description></item><item><title>cbnet Ping Optimizer is killing a site</title><link>https://silviuvulcan.ro/blog/2012/01/11/cbnet-ping-optimizer-is-killing-a-site/</link><pubDate>Wed, 11 Jan 2012 10:28:20 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/01/11/cbnet-ping-optimizer-is-killing-a-site/</guid><description>Some wise soul decided many moons ago that installing the aforementioned plugin on a site I host is a great ideea. The wise soul is long gone (admining websites for ngo&amp;rsquo;s as a volunteer is no fun for far too many come and goers:) ) Lately the site was getting more and more sluggish with no apparent reason. I decided to clean a bit the many modules he thought in his wisdom to install.</description></item><item><title>Optimizing all mysql tables (from all databases)</title><link>https://silviuvulcan.ro/blog/2011/10/04/optimizing-all-mysql-tables-from-all-databases/</link><pubDate>Tue, 04 Oct 2011 06:44:55 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/10/04/optimizing-all-mysql-tables-from-all-databases/</guid><description>You want to optimize mysql tables from time to time in order to reduce fragmentation. Here&amp;rsquo;s an easy way to do it automatically (put it in a script and run it from cron for example)
mysqlcheck -Aop -h hostname -u user -pPASSWORD What all those mean:
-all-databases, -A; Check all tables in all databases. This is the same as using the -databases option and naming all the databases on the command line.</description></item><item><title>Automatically sync photos from digikam to your mobile phone</title><link>https://silviuvulcan.ro/blog/2011/06/22/automatically-sync-photos-from-digikam-to-your-mobile-phone/</link><pubDate>Wed, 22 Jun 2011 08:10:02 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/06/22/automatically-sync-photos-from-digikam-to-your-mobile-phone/</guid><description>I shoot a lot of pictures. My collection keeps growing (for example ~90 Gb right now) and since last year I discovered the joy of using digikam to tag and organize them. I&amp;rsquo;m using the beta 2.0.0 version and use mysql to store it&amp;rsquo;s databases (as opposed to the default sqlite) as it&amp;rsquo;s easier to interact and backup. What I want is to carry some of those pictures with me, specifically on my phone.</description></item><item><title>MariaDB vs MySQL short benchmark</title><link>https://silviuvulcan.ro/blog/2011/05/25/mariadb-vs-mysql-short-benchmark/</link><pubDate>Wed, 25 May 2011 08:32:09 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/05/25/mariadb-vs-mysql-short-benchmark/</guid><description>Considering switching from MySQL to MariaDB? Me too. I wanted to see if I can look towards any performance improvements (or drops). I don&amp;rsquo;t have high level needs, I&amp;rsquo;m sure more comprehensive tests exist. This is simple run-all-tests.pl from sql-bench suite. The test machine was a CentOS VM with 2Gb RAM and 2 CPU cores assigned.
Mysql:
Benchmark DBD suite: 2.15 Date of test: 2011-05-25 2:22:27 Running tests on: Linux 2.</description></item><item><title>Mysql authentication issues</title><link>https://silviuvulcan.ro/blog/2011/01/12/mysql-authentication-issues/</link><pubDate>Wed, 12 Jan 2011 12:57:47 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/01/12/mysql-authentication-issues/</guid><description>Ever happened to you that you create a user with privileges to connect from any host but it won&amp;rsquo;t connect from the localhost?
Like this:
[root@18969_1_490528 tmp]# mysql -u test_user -puser_pass ERROR 1045 (28000): Access denied for user &amp;#39;test_user&amp;#39;@&amp;#39;localhost&amp;#39; (using password: YES) [root@18969_1_490528 tmp]# mysql -u test_user -puser_pass -h yourhost.com Welcome to the MySQL monitor. Commands end with ; or g. Your MySQL connection id is 55 Server version: 5.0.77 Source distribution Type &amp;#39;help;&amp;#39; or &amp;#39;h&amp;#39; for help.</description></item><item><title>MYSQL: set first letter of field to uppercase</title><link>https://silviuvulcan.ro/blog/2010/07/12/mysql-set-first-letter-of-field-to-uppercase/</link><pubDate>Mon, 12 Jul 2010 10:05:53 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/07/12/mysql-set-first-letter-of-field-to-uppercase/</guid><description> I recently had to set values of a set of values from a column from lowercase to Firstuppercase. Nothing easier, run the following code on the database:
UPDATE `affected_table` SET `field_in_question` = CONCAT(UPPER(LEFT(`field_in_question`, 1)), SUBSTRING(`field_in_question`, 2));</description></item><item><title>Authentication problems with postfix, courier, mysql and virtual domains</title><link>https://silviuvulcan.ro/blog/2010/03/15/authentication-problems-with-postfix-courier-mysql-and-virtual-domains/</link><pubDate>Mon, 15 Mar 2010 20:54:44 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/03/15/authentication-problems-with-postfix-courier-mysql-and-virtual-domains/</guid><description>I outgrew my shared hosting and decided to go for a dedicated virtual server. I chose Linode but I will leave that for another article.
I decided to use postfix + courier + mysql and virtual domains for my mail setup. Everythig was configured fine and dandy according to the documentation. But I kept getting this in the logs:
Mar 6 13:54:42 saslauthd [5734]: pam_mysql - required option &amp;#34;db&amp;#34; is not set Mar 6 13:54:42 saslauthd [5734]: DEBUG: auth_pam: pam_authenticate failed: Error in service module Mar 6 13:54:42 saslauthd [5734]: do_auth : auth failure: [user=test@xxxxxxx.</description></item><item><title>Export a MySQL database using the command line.</title><link>https://silviuvulcan.ro/blog/2010/02/02/export-a-mysql-database-using-the-command-line/</link><pubDate>Tue, 02 Feb 2010 07:16:55 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/02/02/export-a-mysql-database-using-the-command-line/</guid><description>Sometimes it&amp;rsquo;s easier to just drop to the command line then browse for fancy tools like phpMyAdmin. This is useful, especially for quick jobs.
mysqldump -u user -ppassword your_database &amp;gt; database_backup.sql Of course you need to replace:
user - mysql username password - the password your_database - the database you want to backup Adding -h host.domain.com would allow to backup a remote mysql database from YOUR shell, something like this:</description></item><item><title>Akonadi is not starting, refuses to run as root (Slackware 13.0/13.1/13.37/current installation).</title><link>https://silviuvulcan.ro/blog/2009/09/08/akonadi-is-not-starting-refuses-to-run-as-root-slackware-13-013-113-37current-installation/</link><pubDate>Tue, 08 Sep 2009 18:10:04 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2009/09/08/akonadi-is-not-starting-refuses-to-run-as-root-slackware-13-013-113-37current-installation/</guid><description>Well, I am having fun lately with the latest incarnation of the Slackware Linux distribution. Like I said before I am a slacker, and I like Slackware a lot. In a way it&amp;rsquo;s nice that some things don&amp;rsquo;t work out of the box. You get to know how they work.
Well, after my first startx I was greeted by a message stating that Akonadi failed to start / Akonadi fails to start.</description></item><item><title>Configuring Mysql in Slackware 13.0</title><link>https://silviuvulcan.ro/blog/2009/09/07/configuring-mysql-in-slackware-13-0/</link><pubDate>Mon, 07 Sep 2009 16:46:12 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2009/09/07/configuring-mysql-in-slackware-13-0/</guid><description>Slackware 13 has still the same unintuitive style with some things - i.e. akonadi doesn&amp;rsquo;t start in kde and it doesn&amp;rsquo;t say why, and so on.
One of the problems you will encounter is that Mysql doesn&amp;rsquo;t start. Yes, if you look in /usr/doc/mysql&amp;hellip; you will find the reason.
Here&amp;rsquo;s what you have to do:
Run
mysql_install_db This will configure the default databases mysql needs to function. Now, this is where you would normally start mysql using /etc/rc.</description></item></channel></rss>