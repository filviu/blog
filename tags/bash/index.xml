<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>bash on Silviu's Blog</title><link>https://silviuvulcan.ro/blog/tags/bash/</link><description>Recent content in bash on Silviu's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 22 Apr 2015 09:28:09 +0000</lastBuildDate><atom:link href="https://silviuvulcan.ro/blog/tags/bash/index.xml" rel="self" type="application/rss+xml"/><item><title>Quickly disable email for one virtual host</title><link>https://silviuvulcan.ro/blog/2015/04/22/quickly-disable-email-for-one-virtual-host/</link><pubDate>Wed, 22 Apr 2015 09:28:09 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2015/04/22/quickly-disable-email-for-one-virtual-host/</guid><description>If you discover that one site that you host is sendingÂ tons of emails there is an easy and quick way to disable email only for one particular virtual host. Add the following line in it&amp;rsquo;s virtual host or .httacess file
php_admin_value sendmail_path &amp;#34;/dev/null&amp;#34; If you add it to the virtual host be sure to reload apache.</description></item><item><title>Running gcp.py from cron</title><link>https://silviuvulcan.ro/blog/2015/04/03/running-gcp-py-from-cron/</link><pubDate>Fri, 03 Apr 2015 10:16:22 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2015/04/03/running-gcp-py-from-cron/</guid><description>On my backup server I run gcp.py from gdatacopierÂ to backup my google docs. I had to fix two issues in order to get it to run from a bash script:
the PYTHONPATH had to be exported prior to running, or the script will fail becauseÂ it requires gdata-python-client the LANG envronment has to be set otherwise it will spill the following error in the log (if you bother to log the output from cron that is, otherwise it will just not work and you won&amp;rsquo;t know why, because the script works fine when ran manually) Traceback (most recent call last): File &amp;#34;/usr/local/bin/gcp.</description></item><item><title>SSH key based authentication fails on a new computer</title><link>https://silviuvulcan.ro/blog/2014/06/02/ssh-key-based-authentication-fails-on-a-new-computer/</link><pubDate>Mon, 02 Jun 2014 10:19:04 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2014/06/02/ssh-key-based-authentication-fails-on-a-new-computer/</guid><description>&lt;p>Having reinstalled one of my older laptops I noticed I cannot login using it&amp;rsquo;s private key. I was sure I backed up the original and properly restored it after reinstalling. I ran ssh -v to get more information:&lt;/p>
&lt;p>&lt;code>Roaming not allowed by server&lt;/code> caught my eye. What the heck is that?&lt;/p></description></item><item><title>Add a logging function to your bash script</title><link>https://silviuvulcan.ro/blog/2012/06/27/add-a-logging-function-to-your-bash-script/</link><pubDate>Wed, 27 Jun 2012 12:56:22 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/06/27/add-a-logging-function-to-your-bash-script/</guid><description>I write a lot of scripts that do various jobs and most of the time I&amp;rsquo;d like to have some log of what happened. So for most of them I add a function that helps logging.
#!/bin/bash # log date format, customize it to your wishes # see man date for help DATE=&amp;#39;date +%Y/%m/%d:%H:%M:%S&amp;#39; # log file LOG=&amp;#39;/var/log/script.log&amp;#39; function echo_log { echo &amp;#34;`$DATE` $1&amp;#34; &amp;gt;&amp;gt; $LOG } # start echo_log &amp;#34;Script running&amp;#34; # do something echo_log &amp;#34;Doing this&amp;#34; # done echo_log &amp;#34;Script ended</description></item><item><title>Search and replace text in many files</title><link>https://silviuvulcan.ro/blog/2012/01/06/search-and-replace-text-in-many-files/</link><pubDate>Fri, 06 Jan 2012 07:48:46 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2012/01/06/search-and-replace-text-in-many-files/</guid><description>This is a handy one liner that searches and replaces text in multiple files. (You can use find for example to run it in multiple folders)
perl -pi -e &amp;#39;s/old_text/new_text/g&amp;#39; *.conf This line replaces old_text with new_text in all the .conf files in the current folder. Of course you can use regular expressions.</description></item><item><title>Quickly check if a process is running or not</title><link>https://silviuvulcan.ro/blog/2011/12/22/quickly-check-if-a-process-is-running-or-not/</link><pubDate>Thu, 22 Dec 2011 08:29:02 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/12/22/quickly-check-if-a-process-is-running-or-not/</guid><description>When writting bash scripts one often needs to see if a process is running or not I like the following code; though I&amp;rsquo;m sure many ways of doing this exists, what&amp;rsquo;s your favorite?
if [ -z &amp;#34;$(pgrep process)&amp;#34; ]; then echo &amp;#34;process is not running&amp;#34; else echo &amp;#34;process is running&amp;#34; fi</description></item><item><title>flac2mp3 conversion bash script</title><link>https://silviuvulcan.ro/blog/2011/12/13/flac2mp3-conversion-bash-script/</link><pubDate>Tue, 13 Dec 2011 18:40:42 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/12/13/flac2mp3-conversion-bash-script/</guid><description>I recently started buying some music in flac format. Though I&amp;rsquo;m content on storing it as flac on my NAS I don&amp;rsquo;t like filling up my phone&amp;rsquo;s memory and also I have the impression that listening to flac uses more battery on my n900.
So I devised a small script that converts all the flac&amp;rsquo;s from a folder to mp3. It has some provisions to carry the metadata from one format to the other.</description></item><item><title>My fortune command lineâ€¦</title><link>https://silviuvulcan.ro/blog/2011/10/15/my-fortune-command-line/</link><pubDate>Sat, 15 Oct 2011 14:11:48 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/10/15/my-fortune-command-line/</guid><description>I take my bash profile very seriously ðŸ™‚
I use:
fortune fortunes fortunes-o fortunes2 forunes2-o 30% startrek The above means to choose fortunes only from the 5 specified files and more it assures that I get startrek fortunes from time to time. Note that because lists are not equal in size it doesnt mean that I get them 30% of the time&amp;hellip;
Below is the fortune man page:
Name fortune - print a random, hopefully interesting, adage</description></item><item><title>Automatically sync photos from digikam to your mobile phone</title><link>https://silviuvulcan.ro/blog/2011/06/22/automatically-sync-photos-from-digikam-to-your-mobile-phone/</link><pubDate>Wed, 22 Jun 2011 08:10:02 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2011/06/22/automatically-sync-photos-from-digikam-to-your-mobile-phone/</guid><description>I shoot a lot of pictures. My collection keeps growing (for example ~90 Gb right now) and since last year I discovered the joy of using digikam to tag and organize them. I&amp;rsquo;m using the beta 2.0.0 version and use mysql to store it&amp;rsquo;s databases (as opposed to the default sqlite) as it&amp;rsquo;s easier to interact and backup. What I want is to carry some of those pictures with me, specifically on my phone.</description></item><item><title>Force fsck on next reboot</title><link>https://silviuvulcan.ro/blog/2010/07/19/force-fsck-on-next-reboot/</link><pubDate>Mon, 19 Jul 2010 08:07:25 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/07/19/force-fsck-on-next-reboot/</guid><description>Let&amp;rsquo;s say you run a headless server and you want to fsck the main partition. The easy solution in this case is (if possible) to force fsck to run on the next boot.
If you run slackware than all you really need is to create an empty file in /etc called forcefsck
You could do this by running:
touch /etc/forcefsck Other linux distributions might check for this file elsewhere, for example in the root directory so the command would be</description></item><item><title>Easily send mail from a bash script</title><link>https://silviuvulcan.ro/blog/2010/03/18/easily-send-mail-from-a-bash-script/</link><pubDate>Thu, 18 Mar 2010 14:03:51 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/03/18/easily-send-mail-from-a-bash-script/</guid><description>Did you ever need to have e-mail&amp;rsquo;s sent from within a bash script? Maybe alert you of errors encountered? Me too.
Here&amp;rsquo;s an easy way on how to do it:
#!/bin/bash # email send script example # # subject of email SUBJECT=&amp;#34;BASH SAYS HELLO&amp;#34; # destination EMAIL=&amp;#34;user@yourdomain.com&amp;#34; # Email body EMAILMESSAGE=&amp;#34;/tmp/messagebody.txt&amp;#34; echo &amp;#34;Email sent from BASH&amp;#34; &amp;gt; $EMAILMESSAGE echo &amp;#34;Another text line&amp;#34; &amp;gt;&amp;gt; $EMAILMESSAGE # send message using /bin/mail /bin/mail -s &amp;#34;$SUBJECT&amp;#34; &amp;#34;$EMAIL&amp;#34; &amp;lt; $EMAILMESSAGE Easy.</description></item><item><title>Rename all files in a folder from upper to lower case.</title><link>https://silviuvulcan.ro/blog/2010/02/12/rename-all-files-in-a-folder-from-upper-to-lower-case/</link><pubDate>Fri, 12 Feb 2010 10:49:35 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/02/12/rename-all-files-in-a-folder-from-upper-to-lower-case/</guid><description>Sometimes is needed to have all files in a folder in the same case. Here&amp;rsquo;s a small script to rename all files in the folder to lower case:
for i in *; do mv $i `echo $i | tr [:upper:] [:lower:]`; done</description></item><item><title>Checking directory sizes from the BASH prompt</title><link>https://silviuvulcan.ro/blog/2010/01/18/checking-directory-sizes-from-bash-prompt/</link><pubDate>Mon, 18 Jan 2010 20:18:16 +0000</pubDate><guid>https://silviuvulcan.ro/blog/2010/01/18/checking-directory-sizes-from-bash-prompt/</guid><description>The command ls can be made to show directories and permission but it will not display directory sizes. Then it&amp;rsquo;s time for other commands. For example on my hosting account there is no file manager installed and evidently x and kde is missing too so, to find out directory sizes I can use the du command. It will show something like this:
du -h -max-depth=1 3.2MÂ ./wp-admin 24MÂ ./wp-content 5.</description></item></channel></rss>