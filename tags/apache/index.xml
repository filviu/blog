<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>apache on Silviu's Blog</title><link>http://silviuvulcan.ro/blog/tags/apache/</link><description>Recent content in apache on Silviu's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 22 Apr 2015 09:28:09 +0000</lastBuildDate><atom:link href="http://silviuvulcan.ro/blog/tags/apache/index.xml" rel="self" type="application/rss+xml"/><item><title>Quickly disable email for one virtual host</title><link>http://silviuvulcan.ro/blog/2015/04/22/quickly-disable-email-for-one-virtual-host/</link><pubDate>Wed, 22 Apr 2015 09:28:09 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2015/04/22/quickly-disable-email-for-one-virtual-host/</guid><description>If you discover that one site that you host is sendingÂ tons of emails there is an easy and quick way to disable email only for one particular virtual host. Add the following line in it&amp;rsquo;s virtual host or .httacess file
php_admin_value sendmail_path &amp;#34;/dev/null&amp;#34; If you add it to the virtual host be sure to reload apache.</description></item><item><title>Count traffic from an apache log file</title><link>http://silviuvulcan.ro/blog/2014/03/03/count-traffic-from-an-apache-log-file/</link><pubDate>Mon, 03 Mar 2014 07:12:19 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2014/03/03/count-traffic-from-an-apache-log-file/</guid><description>I had to count traffic made by a resource from the apache log files. If awstats had been installed it would have been an easy job, but it wasn&amp;rsquo;t hard without it either. I used hints from here to build the following:
awk &amp;#39;{ s += $10 } END { print &amp;#34;Total &amp;#34;, s/1024/1024 &amp;#34; MB&amp;#34;, &amp;#34;- Average &amp;#34;, s/NR/1024/1024 &amp;#34; MB&amp;#34;, &amp;#34;- Access &amp;#34;, NR }&amp;#39; access_log This prints a result like this:</description></item><item><title>fail2ban and apache digest authentication</title><link>http://silviuvulcan.ro/blog/2013/04/04/fail2ban-and-apache-digest-authentication/</link><pubDate>Thu, 04 Apr 2013 10:11:45 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2013/04/04/fail2ban-and-apache-digest-authentication/</guid><description>Although I don&amp;rsquo;t consider fail2ban something to rely on for security is just another piece of the puzzle when securing a server. When configuring fail2ban for a debian server I noticed that the defaults rules are missing failures if DIGEST is used for authentication instead of basic.
I added the following to /etc/fail2ban/filter.d/apache-auth.conf:
[[]client &amp;lt;HOST&amp;gt;[]] (Digest: )?user .* (authentication failure|not found|password mismatch) Restart fail2ban and try entering a wrong user/password while checking the fail2ban log.</description></item><item><title>Useful oneliner: check the memory usage of apache / httpd processes</title><link>http://silviuvulcan.ro/blog/2012/10/19/useful-oneliner-check-the-memory-usage-of-apache-httpd-processes/</link><pubDate>Fri, 19 Oct 2012 09:44:20 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2012/10/19/useful-oneliner-check-the-memory-usage-of-apache-httpd-processes/</guid><description>This is a handy one liner that reports the usage of the apache processes (apache2 on debian/ubunto or httpd in slackware, centos, etc)
ps -ylC httpd | awk &amp;#39;{x += $8;y += 1} END {print &amp;#34;Apache Memory Usage (MB): &amp;#34;x/1024; print &amp;#34;Average Proccess Size (MB): &amp;#34;x/((y-1)*1024)}&amp;#39;</description></item><item><title>Error noticed in Joomla site apache logs</title><link>http://silviuvulcan.ro/blog/2011/10/27/error-noticed-in-joomla-site-apache-logs/</link><pubDate>Thu, 27 Oct 2011 17:50:23 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2011/10/27/error-noticed-in-joomla-site-apache-logs/</guid><description>Browsing trough my web logs I found the following error in the apache error log of a Joomla site:
[Mon Oct 17 13:49:16 2011] [error] [client aaa.aaa.aaa.aaa] PHP Notice: Array to string conversion in aaa/libraries/joomla/html/parameter.php on line 83 One suggestion found online was:
Edit parameters.php and change the line 83 as follows:
Before:
if (trim( $data )) { After:
if ($data) { But modifying core joomla files isn&amp;rsquo;t such a hot idea as one user notices.</description></item><item><title>Make Joomla 1.0 work with PHP 5.3</title><link>http://silviuvulcan.ro/blog/2011/06/23/make-joomla-1-0-work-with-php-5-3/</link><pubDate>Thu, 23 Jun 2011 10:43:03 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2011/06/23/make-joomla-1-0-work-with-php-5-3/</guid><description>With the recent posts regarding resurrecting old stuff, recently I had to resurrect a Joomla 1.0 site. Soon enough I discovered that the home page doesn&amp;rsquo;t display correctly. No errors, just lots of white space :). The problem is that Joomla 1.0 is not really made for PHP 5.3. Of course I could have started a virtual machine with the right environment but I wanted it running along some newer sites.</description></item><item><title>Akismet troubles traced back to DNS issues.</title><link>http://silviuvulcan.ro/blog/2011/06/02/akismet-troubles-traced-back-to-dns-issues/</link><pubDate>Thu, 02 Jun 2011 05:50:34 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2011/06/02/akismet-troubles-traced-back-to-dns-issues/</guid><description>My API key for Akismet was suddenly unconfirmed by reason of not being able to reach akismet.com My provider had indeed troubles with their primary DNS so I switched to the google public one. (8.8.8.8). This is a server not a browsing machine so I don&amp;rsquo;t have any privacy worries.
Long storry short, I changed the DNS and expected the problem to go away. Next day I was happy to find out that it didn&amp;rsquo;t.</description></item><item><title>PHP code misses DNS updates.</title><link>http://silviuvulcan.ro/blog/2010/12/22/php-code-misses-dns-updates/</link><pubDate>Wed, 22 Dec 2010 12:26:00 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2010/12/22/php-code-misses-dns-updates/</guid><description>Apache needs a full stop &amp;amp; start on DNS changes. While working on a test environment I noticed that php code was not finding new hosts. The hosts were served by an internal, private dns server which was configured as default in resolv.conf
Warning: file_get_contents(http://www.testdomain.com/webapp/file.php) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.1 500 Internal Server Error in /var/www/htdocs/test.php on line 4 [root@jentlaibm01 manager]# cat test.php Ping was working so any other test I tried, the only part not resolving the newly added host was the php application.</description></item><item><title>Apache 2.2 will not serve corectly from CIFS mounted share</title><link>http://silviuvulcan.ro/blog/2010/07/27/apache-2-2-will-not-serve-corectly-from-cifs-mounted-share/</link><pubDate>Tue, 27 Jul 2010 09:09:40 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2010/07/27/apache-2-2-will-not-serve-corectly-from-cifs-mounted-share/</guid><description>I have a home server I use for all kinds of stuff when I&amp;rsquo;m away. I have set it up recently so that it can serve a folder mounted over the network from a Windows machine.
And this is where the fun started!
The folders and files appear correctly, I can navigate and I can download them. Only that the files, even if apparently having the same size are corrupted. I checked the FollowSymLinks and as expected was set as required.</description></item><item><title>Uploading big files via php</title><link>http://silviuvulcan.ro/blog/2010/02/11/uploading-big-files-php/</link><pubDate>Thu, 11 Feb 2010 09:43:45 +0000</pubDate><guid>http://silviuvulcan.ro/blog/2010/02/11/uploading-big-files-php/</guid><description>I&amp;rsquo;m updating a site for a client that only has file access to his hosting account via a php file manager (extPlorer for Joomla to be precise). He needed uploaded a few flash videos (in excess of 15 Mb each) but extPlorer stated that the file limit for php was set to 8 Mb.
I already knew that .htaccess overrides were allowed since I used .htaccess to enable a seo component for the site.</description></item></channel></rss>