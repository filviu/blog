<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>Load cycle count of Western Digital Green Drives and how to fix it from Linux | Silviu's Blog</title><meta property="og:title" content="Load cycle count of Western Digital Green Drives and how to fix it from Linux | Silviu's Blog"><meta name=twitter:title content="Load cycle count of Western Digital Green Drives and how to fix it from Linux | Silviu's Blog"><meta itemprop=name content="Load cycle count of Western Digital Green Drives and how to fix it from Linux | Silviu's Blog"><meta name=application-name content="Load cycle count of Western Digital Green Drives and how to fix it from Linux | Silviu's Blog"><meta property="og:site_name" content="Silviu's blog"><meta name=description content="Silviu's Blog"><meta itemprop=description content="Silviu's Blog"><meta property="og:description" content="Silviu's Blog"><meta name=twitter:description content="Silviu's Blog"><meta property="og:locale" content="en-us"><meta name=language content="en-us"><meta itemprop=image content="https://silviuvulcan.ro/blog/"><meta property="og:image" content="https://silviuvulcan.ro/blog/"><meta name=twitter:image content="https://silviuvulcan.ro/blog/"><meta name=twitter:image:src content="https://silviuvulcan.ro/blog/"><meta property="og:type" content="article"><meta property="og:article:published_time" content="2012-12-20T12:17:08Z"><meta property="article:published_time" content="2012-12-20T12:17:08Z"><meta property="og:article:author" content="Silviu"><meta property="article:author" content="Silviu"><meta name=author content="Silviu"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Load cycle count of Western Digital Green Drives and how to fix it from Linux","author":{"@type":"Person","name":""},"datePublished":"2012-12-20","description":"","wordCount":710,"mainEntityOfPage":"True","dateModified":"2012-12-20","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Silviu\u0027s Blog"}}</script><meta name=generator content="Hugo 0.119.0"><link rel=canonical href=https://silviuvulcan.ro/blog/2012/12/20/load-cycle-count-of-western-digital-green-drives-and-how-to-fix-it-from-linux/><link href=/blog/style.min.41175b050032d7b140ed7b503e6724d0166055787dc68ff6fb7e4d5d7b9aebf1.css rel=stylesheet><link href=/blog/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/blog/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/blog/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/blog/icons/favicon-16x16.png><link rel=mask-icon href=/blog/icons/safari-pinned-tab.svg><link rel="shortcut icon" href=/blog/favicon.ico><link rel=manifest href=https://silviuvulcan.ro/blog/site.webmanifest><meta name=msapplication-config content="/blog/browserconfig.xml"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#434648"><link rel=icon type=image/svg+xml href=/blog/icons/favicon.svg></head><body data-theme=auto class=notransition><script src=/blog/js/theme.min.c3935b0f189ca3ede59e2261839900ccfa21c8dd0a494c42a3256b4366e03032.js integrity="sha256-w5NbDxico+3lniJhg5kAzPohyN0KSUxCoyVrQ2bgMDI="></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=https://silviuvulcan.ro/blog/ class=logo><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title>Home</title><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentcolor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/blog/>Home</a></li><li><a class="menu-link active" href=/blog/posts/>Posts</a></li><li><a class=menu-link href=/blog/pages/about/>About</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>Load cycle count of Western Digital Green Drives and how to fix it from Linux</h1><div class=post-meta><time datetime=2012-12-20T12:17:08+00:00 itemprop=datePublished>20 Dec 2012</time></div></header><div class=page-content><p>I run a NAS at home. It used to have 3x2TB WD EARS drives. At some point I saw online some remarks about increased Load Cycle Count when using these drives in a NAS/RAID setup but I didn&rsquo;t have the time to check then. Modern Western Digital &ldquo;Green&rdquo; Drives include the Intellipark feature that stops the disk when not in use.
Unfortunately, the default timer setting is not perfect on linux/unix systems, including many NAS, and leads to a dramatic increase of the Load Cycle Count value (SMART attribute #193). After a period of 8 seconds of inactivity, these drives heads &ldquo;park&rdquo; themselves, or go into standby position. This behavior is fine for desktop storage where the green drive - which should be used for storage, not OS, could stay in stand-by for hours untill required <strong>but</strong> a RAID will always write to all the disks due to parity ,etc. and so the drives will wake up all the time. This constant stand-by/wake-up cycles are not really a good idea. WD says the drives should be good for 300000 load cycles.</p><p>Lately I needed more space and after a failed attempt with a crappy Seagate refurbished external drive (it was the only thin affordable) I bough a new 2Tb EADX WD Green when prices came back to sanity. While installing the new drive I took the time to check the old ones and found worrying values for the load cycle count, over 80000 for the oldest of the three and over 60000 for the others. I installed the new disk, grew the RAID array and setup a cron job to monitor the value over a period of a few days. The rate it was growing proved worrisome. A 24Ã—7 running system will reach the 300000 recommended cycles as soon as 2 years. I had more time as I only run my NAS when I need it - sometimes is off for days.</p><p>Following are graphs detailing the number of loadcycles I see on my four drives. The fifth (SDE) is a WD blue which is used as a system drive, and which doesn&rsquo;t use this agressive power saving method.</p><p><img src=/blog/images/2012/sda_before.png alt="SDA load graph">
<img src=/blog/images/2012/sdb_before.png alt="SDB load graph">
<img src=/blog/images/2012/sdc_before.png alt="SDC load graph">
<img src=/blog/images/2012/sdd_before.png alt="SDD load graph">
<img src=/blog/images/2012/sde_before.png alt="SDE load graph"></p><p>Values were taken on 4h intervals but are not necessarily continuous - as the NAS was off some times. Last images shows the number of Load Cycle Counts happened from the last reading.</p><p><img src=/blog/images/2012/4h_load_delta.png alt="Louad increase over 4h"></p><h2 id=the-fix>The Fix:</h2><p>The default is to try and park every 8 seconds. Western Digital were kind enough to provide an utility to change the setting: is called &ldquo;wdidle3&rdquo;, and since apparently WD does not offer it directly, you have to <a href="http://www.google.com/search?q=wdidle3">google it.</a> The issue is that is&rsquo;s a DOS only program and WD only says it works with some drives. (my new EADX was not among them) Users report it to work ok on most drives but adding it to the fact that the NAS runs headless in a closet I would have to get it out, add a keyboard and screen, boot DOS and hope it works. Fortuantely some good sould thought otherwise: <a href=http://idle3-tools.sourceforge.net/>http://idle3-tools.sourceforge.net/</a></p><p>It&rsquo;s an utility that sets the timeout for thisÂ  power saving feature in the same way the wdidle3 utility does. The only plus is that it runs on linux. I won&rsquo;t show you how I ran it because I want you to read all the documentation the author provides not just blindly copy and paste commands that can potentially ruin your disks. What I will tell you that you need to cycle your drives in order to get the new settings into effect. A reboot is not enough. You need to power them down and back up again.</p><p>Just to be sure I continued monitoring the load cycle values for some time more.</p><p>I kept the same scale as above so the effect is obvious.</p><p><img src=/blog/images/2012/sda_after.png alt="SDA load graph after changing settings">
<img src=/blog/images/2012/sdb_after.png alt="SDB load graph after changing settings">
<img src=/blog/images/2012/sdc_after.png alt="SDC load graph after changing settings">
<img src=/blog/images/2012/sdd_after.png alt="SDD load graph after changing settings">
<img src=/blog/images/2012/sde_after.png alt="SDE load graph after changing settings"></p><p>Let me end by repeating what the idle3-tools author says:</p><p><em>Idle3-tools is an independant project, <strong>unrelated in any way to Western Digital Corp.</strong></em></p><p><strong>WARNING : THIS SOFTWARE IS EXPERIMENTAL AND NOT WELL TESTED. IT ACCESSES LOW LEVEL INFORMATION OF YOUR HARDDRIVE. USE AT YOUR OWN RISK.</strong></p><p><strong>This did work for me for my WD20EARS and WD20EADX drives but it might not work for you.</strong> Be sure you understand the documentation and check your drive&rsquo;s behaviour before and after.</p></div></article></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons><a href=https://github.com/filviu target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://mastodon.social/@filviu target=_blank rel="noopener noreferrer me" title=Mastodon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.58 13.913c-.29 1.469-2.592 3.121-5.238 3.396-1.379.184-2.737.368-4.185.276-2.368-.092-4.237-.551-4.237-.551.0.184.014.459.043.643.308 2.294 2.317 2.478 4.22 2.57 1.922.0 3.633-.46 3.633-.46l.079 1.653s-1.344.734-3.738.918c-1.32.091-2.96-.092-4.869-.551-4.14-1.102-4.853-5.507-4.961-10.005-.034-1.285-.013-2.57-.013-3.58.0-4.589 3-5.966 3-5.966 1.513-.734 4.11-1.01 6.808-1.01h.067c2.699.0 5.296.276 6.81 1.01.0.0 3 1.377 3 5.967.0.0.037 3.304-.419 5.69" stroke="currentcolor"/><path d="M17.832 8.633v5h-1.978V8.78c0-1.023-.43-1.542-1.29-1.542-.95.0-1.427.616-1.427 1.834v2.655H11.17V9.072c0-1.218-.476-1.834-1.427-1.834-.86.0-1.29.52-1.29 1.542v4.852H6.475V8.633c0-1.022.26-1.834.782-2.434.538-.6 1.243-.909 2.118-.909 1.012.0 1.779.39 2.286 1.169l.492.827.493-.827c.507-.78 1.274-1.169 2.286-1.169.875.0 1.58.308 2.118.909.522.6.782 1.412.782 2.434" fill="currentcolor" stroke="none"/></svg></a><a href=index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><small class=footer_copyright>Â© 2024 Silviu Vulcan.
Powered by <a href=https://github.com/hugo-sid/hugo-blog-awesome target=_blank rel="noreferrer noopener">Hugo blog awesome</a>
theme on
<a href=https://gohugo.io target=_blank rel="noreferrer noopener">Hugo</a>.</small></footer><a href=# title="Go to top" id=totop><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentcolor" stroke="currentcolor" viewBox="0 96 960 960"><path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197z"/></svg></a><script src=https://silviuvulcan.ro/blog/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30+lSNuSkl4QXuNyy8="></script></body></html>